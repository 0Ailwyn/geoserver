.. _styling_workshop_css_done:

CSS Workbook Conclusion
=======================

We hope you have enjoyed this styling workshop.

Additional resources:

* :ref:`CSS Extension <css>`

CSS Workbook Answer Key
------------------------

The following questions were listed through out the workshop as an opportunity to explore the material in greater depth. Please do your best to consider the questions in detail prior to checking here for the answer. Questions are provided to teach valuable skills, such as a chance to understand how feature type styles are used to control z-order, or where to locate information in the user manual.

.. _css.line.a0:

SLD Generation
^^^^^^^^^^^^^^

Answer for :ref:`Challenge SLD Generation <css.line.q0>`:

#. Generate the SLD for the following CSS.

   .. code-block:: css

       * {
         stroke: black;
       }

#. **Challenge:** What is unusual about the generated SLD? Can you explain why it still works as expected?

   The generated SLD does not contain any stroke properties, even though black was specified::

      <sld:LineSymbolizer>
        <sld:Stroke/>
      </sld:LineSymbolizer>

   SLD considers black the default stroke color for a LineSymbolizer, so no further detail was required.
   
.. _css.line.a1:

Classification
^^^^^^^^^^^^^^

Answer for :ref:`Challenge Classification <css.line.q1>`:

#. **Challenge:** Create a new style adjust road appearance based on **type**.

   .. image:: ../style/img/line_type.png

   Hint: The available values are 'Major Highway','Secondary Highway','Road' and 'Unknown'.

#. Here is an example:
  
   .. code-block:: css

        [type = 'Major Highway' ] {
            stroke: #000088;
            stroke-width: 1.25;
        }
        [type = 'Secondary Highway' ]{
            stroke: #8888AA;
            stroke-width: 0.75;
        }
        [type = 'Road']{
            stroke: #888888;
            stroke-width: .75;
        }
        [type = 'Unknown' ]{
            stroke: #888888;
            stroke-width: 0.5;
        }
        * {
           stroke: #AAAAAA;
           stroke-opacity: 0.25;
           stroke-width: 0.5;
        }
        
.. _css.line.a2:

SLD Z-Index Generation
^^^^^^^^^^^^^^^^^^^^^^

Answer for :ref:`Challenge SLD Z-Index Generation <css.line.q2>`:

#. Review the SLD generated by the **z-index** example.

   .. code-block:: css

      * {
        stroke: black, #8080E6;
        stroke-width: 5px, 3px;
        z-index: 0, 1;
      }

#. *Challenge:* There is an interesting trick in the generated SLD, can you explain how it works?

#. The Z-Order example produces multiple FeatureTypeSytle definitions, each acting like an "inner layer".

   Each FeatureTypeStyle is rendered into its own raster, and the results merged in order. The legend shown in the map preview also provides a hint, as the rule from each FeatureType style is shown.

.. _css.line.a3:

Label Shields
^^^^^^^^^^^^^

Answer for :ref:`Challenge Label Shields <css.line.q2>`:

#. The traditional presentation of roads in the US is the use of a shield symbol, with the road number marked on top.

.. image:: ../style/img/line_shield.png

#. *Challenge:* Have a look at the documentation and reproduce this technique.

#. The use of a label shield is a vendor specific capability of the GeoServer rendering engine. The tricky part of this exercise is finding the documentation online ( i.e. :ref:`Styled Marks in CSS <css_styledmarks>`).
         
   .. code-block:: css
 
      * {
          stroke: black,lightgray;
          stroke-width: 3,2;
          label: [name];
          font-family: 'Ariel';
          font-size: 10;
          font-fill: black;
          shield: symbol(square);
      }
      :shield {
          fill: white;
          stroke: black;
          size: 18;
      }
